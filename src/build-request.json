{
  "kind": "build_request",
  "title": "Convert the current game into a street fighting game (new story, urban theme, brawl challenge)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-10",
      "text": "Replace the existing Ramayana-inspired chapter content with an original, English, street-fighting storyline using the current chapter/mission structure (chapters with narratives, choices, objectives, and a challenge), keeping the same total number of chapters unless additional chapters are necessary for coherence.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "make a street fight game"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/src/game/story/chapters.ts` no longer contains Ramayana-specific names/places (e.g., Rama, Ayodhya, Ravana) and instead defines an original street-fight plot in English.",
        "Each chapter still has: title, background image path, multiple narrative beats, at least 2 choices with stat effects, and an assigned challenge type.",
        "Chapter progression remains gated by mission completion (read story + make a choice + complete the challenge)."
      ]
    },
    {
      "id": "REQ-11",
      "text": "Update the start screen and chapter screen user-facing text to match the street fighting theme (game title, descriptions, labels, and end-of-game messaging) while keeping the existing navigation and save/load entry points intact.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "make a street fight game"
        ]
      },
      "acceptanceCriteria": [
        "Start screen title/subtitle/intro copy are street-fight themed and in English (no Ramayana references).",
        "Chapter screen labels that are player-visible (e.g., chapter descriptors, toasts, mission complete messaging) remain coherent for a street fighting game.",
        "Save/Load and Internet Identity login/logout still function from the same screens/flows."
      ]
    },
    {
      "id": "REQ-12",
      "text": "Retheme the UI from the current parchment/epic aesthetic to a gritty urban street-fighting aesthetic (e.g., concrete/metal textures, high-contrast neutrals, punchy accent colors) and apply it consistently across start screen, HUD, cards, buttons, and mission status UI; do not introduce a default blue/purple look.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "make a street fight game"
        ]
      },
      "acceptanceCriteria": [
        "Global styling tokens/classes are updated so the app no longer reads as an ancient-epic/parchment theme.",
        "The new theme is consistent across StartScreen, ChapterScreen, HUD, and SaveLoadPanel.",
        "Primary/interactive accents avoid a default blue/purple palette."
      ]
    },
    {
      "id": "REQ-13",
      "text": "Add a street-fight-appropriate interactive challenge used by at least one chapter (e.g., a simple combo/quick-time or timing-based brawl mini-game) and integrate it into the existing challenge selection/rendering flow so mission completion can depend on it.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "make a street fight game"
        ]
      },
      "acceptanceCriteria": [
        "A new challenge component exists alongside existing challenges and can be selected by a chapter definition.",
        "Completing the new challenge updates mission objective state (completedChallenge) and allows chapter advancement when all objectives are satisfied.",
        "Challenge result rewards still map onto the existing tracked numeric state variables so save/load remains compatible."
      ]
    },
    {
      "id": "REQ-14",
      "text": "Generate and wire up new static image assets for the street fighting game (title background, chapter backgrounds, and character/scene illustration set) by placing them under `frontend/public/assets/generated` and updating all references so no missing-asset paths remain.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "make a street fight game"
        ]
      },
      "acceptanceCriteria": [
        "All background/illustration `<img>` and layout background references point to files under `/assets/generated/` and load without 404s.",
        "Start screen uses street-fight themed images (not Ramayana images).",
        "Each chapter uses a street-fight themed background image path under `/assets/generated/`."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor in `backend/main.mo`.",
    "Do not edit files under `frontend/src/components/ui` or the immutable hook/bootstrap paths listed in SYSTEM_CONTEXT.",
    "All user-facing text introduced/changed for this request must be in English.",
    "Generated images must be static frontend assets placed under `frontend/public/assets/generated` (no backend image serving)."
  ],
  "nonGoals": [
    "Multiplayer, PvP matchmaking, real-time combat, or networking features.",
    "Third-party auth providers beyond Internet Identity.",
    "Adding an external database or non-Motoko backend services.",
    "3D fighting gameplay (this request is satisfied with a 2D UI + mini-game challenge loop)."
  ],
  "imageRequirements": {
    "required": [
      "Gritty urban street fighting title background with city lights, alley silhouettes, and dramatic contrast (streetfight-title-bg.dim_1920x1080.png)",
      "Urban alley fight scene background with wet pavement reflections and graffiti textures (streetfight-alley-bg.dim_1920x1080.png)",
      "Warehouse/underground fight club background with ring lights and crowd silhouettes (streetfight-warehouse-bg.dim_1920x1080.png)",
      "Rooftop/night skyline fight scene background with HVAC units and neon signage (streetfight-rooftop-bg.dim_1920x1080.png)",
      "Stylized character portrait set (protagonist + 3 rivals) in a cohesive gritty illustration style (streetfight-portraits-set.dim_1024x1024.png)",
      "Top-down or isometric city map/route illustration with districts marked as fight venues (streetfight-city-map.dim_1600x900.png)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [
      "Street fighting game theme (gritty urban aesthetic, English text)."
    ],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}